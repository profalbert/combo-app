(this["webpackJsonpapp-minin"]=this["webpackJsonpapp-minin"]||[]).push([[4],{259:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return n}));var o=function(e,t){for(var a=e.split(" "),o=!1,n=0;n<a.length;n++)a[n].length<18&&(o=!0);return o&&""!==e.replace(/\s+/g," ").trim()&&e.length<t?e.replace(/\s+/g," ").trim():void 0},n=function(e,t,a){var o=t.split("").includes(" "),n=a.split("").includes(" ");return!(o||n||!e||!t||!a||t.length>15||a.length>15)}},281:function(e,t,a){"use strict";var o=a(263);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(a(0)),r=(0,o(a(272)).default)(n.default.createElement("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"}),"Send");t.default=r},282:function(e,t,a){"use strict";function o(e){return e}a.d(t,"a",(function(){return o}))},310:function(e,t,a){"use strict";a.r(t);var o=a(6),n=a(70),r=a(0),c=a.n(r),s=a(34),l=a(248),i=a(281),d=a.n(i),u=a(5),m=a(242),p=a(282),b=a(279),g=a(57),f=a(309),h=a(311),v=a(2),E=a(8),N=a(1),I=(a(4),a(3)),C=a(214),x=a(268),O=a(17),j=a(271),P=a(12),y="undefined"===typeof window?r.useEffect:r.useLayoutEffect,S=r.forwardRef((function(e,t){var a=e.alignItems,o=void 0===a?"center":a,n=e.autoFocus,c=void 0!==n&&n,s=e.button,l=void 0!==s&&s,i=e.children,d=e.classes,u=e.className,m=e.component,p=e.ContainerComponent,b=void 0===p?"li":p,g=e.ContainerProps,f=(g=void 0===g?{}:g).className,h=Object(v.a)(g,["className"]),E=e.dense,S=void 0!==E&&E,k=e.disabled,M=void 0!==k&&k,R=e.disableGutters,w=void 0!==R&&R,z=e.divider,T=void 0!==z&&z,B=e.focusVisibleClassName,L=e.selected,D=void 0!==L&&L,F=Object(v.a)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),H=r.useContext(j.a),V={dense:S||H.dense||!1,alignItems:o},A=r.useRef(null);y((function(){c&&A.current&&A.current.focus()}),[c]);var G=r.Children.toArray(i),W=G.length&&Object(x.a)(G[G.length-1],["ListItemSecondaryAction"]),J=r.useCallback((function(e){A.current=P.findDOMNode(e)}),[]),$=Object(O.a)(J,t),q=Object(N.a)({className:Object(I.a)(d.root,u,V.dense&&d.dense,!w&&d.gutters,T&&d.divider,M&&d.disabled,l&&d.button,"center"!==o&&d.alignItemsFlexStart,W&&d.secondaryAction,D&&d.selected),disabled:M},F),U=m||"li";return l&&(q.component=m||"div",q.focusVisibleClassName=Object(I.a)(d.focusVisible,B),U=C.a),W?(U=q.component||m?U:"div","li"===b&&("li"===U?U="div":"li"===q.component&&(q.component="div")),r.createElement(j.a.Provider,{value:V},r.createElement(b,Object(N.a)({className:Object(I.a)(d.container,f),ref:$},h),r.createElement(U,q,G),G.pop()))):r.createElement(j.a.Provider,{value:V},r.createElement(U,Object(N.a)({ref:$},q),G))})),k=Object(u.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(S),M=r.forwardRef((function(e,t){var a,o=e.classes,n=e.className,c=e.component,s=void 0===c?"li":c,l=e.disableGutters,i=void 0!==l&&l,d=e.ListItemClasses,u=e.role,m=void 0===u?"menuitem":u,p=e.selected,b=e.tabIndex,g=Object(v.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(a=void 0!==b?b:-1),r.createElement(k,Object(N.a)({button:!0,role:m,tabIndex:a,component:s,selected:p,disableGutters:i,classes:Object(N.a)({dense:o.dense},d),className:Object(I.a)(o.root,n,p&&o.selected,!i&&o.gutters),ref:t},g))})),R=Object(u.a)((function(e){return{root:Object(N.a)({},e.typography.body1,Object(E.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(N.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(M),w=a(304),z=a(84),T=a(259),B=a(35),L=a(47),D=Object(u.a)({root:{"& label.Mui-focused":{color:b.a[400]},"& textarea":{height:"auto"},"& input":{height:"auto"},"& .MuiInput-underline:after":{borderBottomColor:b.a[400]},"& .MuiOutlinedInput-root":{"& fieldset":{transition:"all 0.3s"},"&:hover fieldset":{borderColor:"black",transition:"all 0.3s"},"&.Mui-focused fieldset":{borderColor:b.a[400]}}}})(f.a),F=Object(m.a)((function(e){return Object(p.a)({button:{margin:"0px 0px 0px ".concat(e.spacing(1),"px"),height:"100%",backgroundColor:g.a[700],color:"#fff","&:hover":{backgroundColor:g.a[500]}},loginButton:{height:"50px",backgroundColor:g.a[700],color:"#fff",marginTop:"10px","&:hover":{backgroundColor:g.a[500]}},loginInput:{margin:"10px 0px"},loginSelect:{"& .MuiSelect-select:focus":{backgroundColor:"transparent"},"&::after":{borderBottom:"2px solid ".concat(b.a[400])}},loguotButton:{height:"30px",margin:"0px",fontSize:"12px",position:"absolute",padding:"5px 10px",right:"10px"}})})),H={setDataModalWindow:B.b.setDataModalWindow,chatInitialedPerson:z.b.chatInitialedPerson,setDataExitChat:z.b.setDataExitChat,authorizationPerson:z.a,postMessageInRoom:z.d,requestRoomIfPersonAutorizeted:z.e},V=Object(s.b)((function(e){return{person:e.chat.person,messagesInRoom:e.chat.messagesInRoom,autorizatedPerson:e.chat.autorizatedPerson,isPersonFromLocalStrorage:e.chat.isPersonFromLocalStrorage,isPersonExitChat:e.chat.isPersonExitChat,isLoadingChat:e.chat.isLoadingChat}}),H)((function(e){var t=e.person,a=e.chatInitialedPerson,s=e.authorizationPerson,i=e.messagesInRoom,u=e.requestRoomIfPersonAutorizeted,m=e.postMessageInRoom,p=e.autorizatedPerson,b=e.setDataModalWindow,g=e.isPersonFromLocalStrorage,f=e.setDataExitChat,v=e.isPersonExitChat,E=e.isLoadingChat,N=F(),I=Object(r.useState)(""),C=Object(n.a)(I,2),x=C[0],O=C[1],j=c.a.createRef(),P=Object(r.useState)(0),y=Object(n.a)(P,2),S=y[0],k=y[1],M=Object(r.useState)(!1),z=Object(n.a)(M,2),B=z[0],H=z[1];Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("person")||"{}");if(e.id)a(Object(o.a)({},e));else{var t=Date.now();a(Object(o.a)({},e,{id:t}))}}),[a]),Object(r.useEffect)((function(){(g||v)&&localStorage.setItem("person",JSON.stringify(t))}),[t,g,v]),Object(r.useEffect)((function(){p&&t.room&&!B&&(u(t.room),console.log("Redraw chat"),H(!0),setTimeout((function(){H(!1)}),1e3))}),[p,B,t.room,u]),Object(r.useEffect)((function(){j.current&&0===S&&(j.current.scrollTop=j.current.scrollHeight,k((function(e){return e+1}))),j.current&&j.current.scrollTop+j.current.clientHeight+90>j.current.scrollHeight&&(j.current.scrollTop=j.current.scrollHeight)}),[j,S]);return c.a.createElement("div",{className:"chatContainer"},c.a.createElement("h1",{className:"chatH1"},"Chat"),c.a.createElement("div",{className:"chatWrap"},p?null:c.a.createElement("div",{className:"loginWrap"},c.a.createElement("div",{className:"loginTitle"},"Login"),c.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault();var t=e.currentTarget.numberRoom.value,a=e.currentTarget.firstName.value,o=e.currentTarget.lastName.value;Object(T.a)(t,a,o)?s(t,a,o):b(!0,"Please fill out the form correctly! Fields without spaces and a maximum of 15 characters each and select the room you need.")}(e)},className:"loginForm",noValidate:!0,autoComplete:"off"},c.a.createElement(h.a,{id:"demo-simple-select-label"},"Choose a room"),c.a.createElement(w.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",className:N.loginSelect,name:"numberRoom",defaultValue:1},c.a.createElement(R,{value:1},"Room 1"),c.a.createElement(R,{value:2},"Room 2"),c.a.createElement(R,{value:3},"Room 3"),c.a.createElement(R,{value:4},"Room 4"),c.a.createElement(R,{value:5},"Room 5")),c.a.createElement(D,{name:"firstName",className:N.loginInput,label:"Enter your name"}),c.a.createElement(D,{name:"lastName",className:N.loginInput,label:"Enter last name"}),c.a.createElement(l.a,{type:"submit",variant:"contained",color:"primary",className:N.loginButton},"Submit"))),p?E?c.a.createElement("div",{className:"chatBlock"},c.a.createElement("div",{className:"chatTitle"},c.a.createElement("span",null,"Room ",t.room),c.a.createElement(l.a,{variant:"contained",color:"primary",className:"".concat(N.loguotButton," ").concat(N.button),onClick:function(){return f(),O(""),void(0!==S&&k(0))}},"Exit chat")),c.a.createElement("div",{ref:j,className:"chatText"},i.length?i.map((function(e){return c.a.createElement("div",{key:e.messageId,className:"chatPerson"},c.a.createElement("div",{className:"chatPersonImg ".concat(t.autorizatedId===e.autorizatedId?"chatPersonImgMe":""),style:{backgroundColor:t.autorizatedId===e.autorizatedId?"#00c853":"rgb(".concat(e.colorIcon[0],",\n                                                                                                                                                            ").concat(e.colorIcon[1],",\n                                                                                                                                                            ").concat(e.colorIcon[2],")")}},t.id===e.id?t.autorizatedId===e.autorizatedId?c.a.createElement("span",null,"You ",c.a.createElement("br",null)," (now)"):c.a.createElement("span",null,"You ",c.a.createElement("br",null)," (before)"):c.a.createElement("span",{style:{fontSize:"20px"}},e&&e.firstName?e.firstName.slice(0,1).toUpperCase():"",e&&e.lastName?e.lastName.slice(0,1).toUpperCase():"")),c.a.createElement("div",{className:"chatPersonBlock"},c.a.createElement("div",{className:"chatPersonName"},c.a.createElement("span",null,"".concat(e.firstName," ").concat(e.lastName)),c.a.createElement("span",{className:"chatPersonNameData"},"".concat(e.date))),c.a.createElement("div",{className:"chatPersonMessage ".concat(t.autorizatedId===e.autorizatedId?"chatPersonMessageMe":"")},c.a.createElement("span",null,"".concat(e.message)))))})):c.a.createElement("div",{className:"chatPerson"},c.a.createElement("div",{className:"chatPersonImg"}),c.a.createElement("div",{className:"chatPersonBlock"},c.a.createElement("div",{className:"chatPersonName"},c.a.createElement("span",null,"Bot"),c.a.createElement("span",{className:"chatPersonNameData"})),c.a.createElement("div",{className:"chatPersonMessage"},"Hello! There are no messages in this chat yet")))),c.a.createElement("div",{className:"chatSend"},c.a.createElement(D,{onChange:function(e){O(e.target.value)},rowsMax:5,multiline:!0,value:x,label:"Enter case name",id:"outlined-basic",variant:"outlined"}),c.a.createElement(l.a,{variant:"contained",color:"primary",className:N.button,endIcon:c.a.createElement(d.a,null),onClick:function(){return Object(T.b)(x,1e3)?m(t,x):b(!0,"Enter your message correctly: use not only spaces, a limit of 1000 characters, and any word should not exceed 30 characters."),void O("")}},"Send"))):c.a.createElement("div",{className:"secondPreloader"},c.a.createElement(L.a,null)):null))}));t.default=V}}]);
//# sourceMappingURL=4.39d2e767.chunk.js.map